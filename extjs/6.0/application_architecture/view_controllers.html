<!DOCTYPE html>
<html>
<head>
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../MarkdownWebapp/MarkdownWebapp.nocache.js"></script>
    <script type="text/javascript" src="../ace/ace.js"></script>
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />
    <script type="text/javascript">window["_GOOG_TRANS_EXT_VER"] = "1";</script>
    <title>Ext JS 向导 | 视图控制器View Controllers</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script async="" type="text/javascript" src="../../../../https@use.typekit.com/bqo8qzg.js"></script>
    <script type="text/javascript">

        function showMenu(link_obj) {
            var menu = document.getElementById("tpl-toc");

            link_obj.innerHTML = (link_obj.innerHTML == 'CLOSE MENU') ? 'MENU' : 'CLOSE MENU';

            if (menu.style.display == 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
            }
        }

    </script>
</head>
<body>
    <div id="header">
        <a href="../../../../www.sencha.com/default.htm"><img class="sencha-logo" src="../images/logo.png" /></a>
        <h1 id="current-product"><a href="#">Ext JS 向导 ▼</a></h1>
        <div id="mobile_menu">
            <a id="mobile_menu_link" onclick="showMenu(this);" href="#">MENU</a>
        </div>

    </div>
    <div id="content" itemscope="" itemtype="http://schema.org/Article">
        <div id="tpl-toc">
            <div id="tpl-toc-content">
                <a class="toggle-button" href="#">expand</a>
                <ul>
                    <li class="file"><a href="../../../default.htm" data-full-load="true" title="Home">Sencha 向导</a></li>
                    <li class="file"><a href="../index.html" title="Guide Home">Sencha Ext JS 向导</a></li>
                    <li class="folder">
                        <a href="#">快速入门</a>
                        <ul expand="false">
                            <li class="file"><a href="../getting_started/getting_started.html" title="Get Started">安装 &amp; 快速入门</a></li>
                            <li class="file"><a href="../getting_started/extjs_faq.html" title="">Ext JS - 问答</a></li>
                            <li class="file"><a href="../getting_started/login_app.html" title="">创建一个简单的登录应用</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">Ext JS 6 API 文档</a>
                        <ul expand="false">
                            <li class="file"><a href="../6.0.2-classic/default.htm" data-full-load="true" title="Api Docs">Ext JS 6.0.2 Classic API 文档</a></li>
                            <li class="file"><a href="../6.0.2-modern/default.htm" data-full-load="true" title="Api Docs">Ext JS 6.0.2 Modern API 文档</a></li>
                            <li class="file"><a href="../6.0.1-classic/default.htm" data-full-load="true" title="Api Docs">Ext JS 6.0.1 Classic API 文档</a></li>
                            <li class="file"><a href="../6.0.1-modern/default.htm" data-full-load="true" title="Api Docs">Ext JS 6.0.1 Modern API 文档</a></li>
                            <li class="file"><a href="../6.0.0-classic/default.htm" data-full-load="true" title="Api Docs">Ext JS 6.0.0 Classic API 文档</a></li>
                            <li class="file"><a href="../6.0.0-modern/default.htm" data-full-load="true" title="Api Docs">Ext JS 6.0.0 Modern API 文档</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">API 版本差异</a>
                        <ul expand="false">
                            <li class="file"><a href="../api_diffs/602_classic_diff.html" title="Between 5.1.1 &amp; 6.0.0">Between 6.0.1 &amp; 6.0.2 Classic</a></li>
                            <li class="file"><a href="../api_diffs/602_modern_diff.html" title="Between 5.1.1 &amp; 6.0.0">Between 6.0.1 &amp; 6.0.2 Modern</a></li>
                            <li class="file"><a href="../api_diffs/601_classic_diff.html" title="Between 5.1.1 &amp; 6.0.0">Between 6.0.0 &amp; 6.0.1 Classic</a></li>
                            <li class="file"><a href="../api_diffs/601_modern_diff.html" title="Between Touch 2.4.2 &amp; 6.0.0">Between 6.0.0 &amp; 6.0.1 Modern</a></li>
                            <li class="file"><a href="../api_diffs/600_classic_diff.html" title="Between 5.1.1 &amp; 6.0.0">Between 5.1.1 &amp; 6.0.0 Classic</a></li>
                            <li class="file"><a href="../api_diffs/600_modern_diff.html" title="Between Touch 2.4.2 &amp; 6.0.0">Between Touch 2.4.2 &amp; 6.0.0 Modern</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">Examples</a>
                        <ul expand="false">
                            <li class="file"><a href="../../../../examples.sencha.com/extjs/6.0.2/examples/default.htm" data-full-load="true" title="">6.0.2 Examples</a></li>
                            <li class="file"><a href="../../../../examples.sencha.com/extjs/6.0.1/examples/default.htm" data-full-load="true" title="">6.0.1 Examples</a></li>
                            <li class="file"><a href="../../../../examples.sencha.com/extjs/6.0.0/examples/default.htm" data-full-load="true" title="">6.0.0 Examples</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">新特性</a>
                        <ul expand="false">
                            <li class="file"><a href="../whats_new/release_notes.html" title="">版本发布说明</a></li>
                            <li class="file"><a href="../whats_new/whats_new.html" title="">Ext JS 6 新特性</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">升级 &amp; 迁移</a>
                        <ul expand="false">
                            <li class="file"><a href="../upgrades_migrations/extjs_upgrade_guide.html" title="">Ext JS 5 到 6 - 升级向导</a></li>
                            <li class="file"><a href="../upgrades_migrations/modern_upgrade_guide.html" title="">Touch 2.4 to 6 - 升级向导</a></li>
                            <li class="file"><a href="../upgrades_migrations/pivot_grid_update_guide.html" title="">Ext JS 6 - Pivot Grid 升级向导</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">核心思想</a>
                        <ul expand="false">
                            <li class="file"><a href="../core_concepts/classes.html" title="The 类系统">类系统</a></li>
                            <li class="file"><a href="../core_concepts/layouts.html" title="布局和容器">布局和容器</a></li>
                            <li class="file"><a href="../core_concepts/components.html" title="Components">Components</a></li>
                            <li class="file"><a href="../core_concepts/data_package.html" title="数据封装">数据封装</a></li>
                            <li class="file"><a href="../core_concepts/events.html" title="Events in Ext JS">事件和手势</a></li>
                            <li class="file"><a href="../core_concepts/drag_drop.html" title="拖放">拖放</a></li>
                            <li class="file"><a href="../core_concepts/theming.html" title="Theming Ext JS">主题</a></li>
                            <li class="file"><a href="../core_concepts/memory_management.html" title="">内存管理</a></li>
                            <li class="file"><a href="../core_concepts/accessibility.html" title="无障碍">无障碍</a></li>
                            <li class="file"><a href="../core_concepts/localization.html" title="本地化">本地化</a></li>
                            <li class="file"><a href="../core_concepts/rtl.html" title="Right to Left in Ext JS">Right to Left in Ext JS</a></li>
                            <li class="file"><a href="../core_concepts/font_ext.html" title="">Sencha 字体包</a><span class="tpl-toc-img-new">★</span></li>
                            <li class="file"><a href="../core_concepts/tablet_support.html" title="平板设备支持">平板设备支持</a></li>
                            <li class="folder">
                                <a href="#">绘图封装</a>
                                <ul expand="false">
                                    <li class="file"><a href="../core_concepts/draw/drawing.html" title="">绘图封装</a></li>
                                    <li class="file"><a href="../core_concepts/draw/creating_images_with_draw_pt1.html" title="">Creating Images with Draw - Part 1</a></li>
                                    <li class="file"><a href="../core_concepts/draw/creating_images_with_draw_pt2.html" title="">Creating Images with Draw - Part 2</a></li>
                                    <li class="file"><a href="../core_concepts/draw/creating_images_with_draw_pt3.html" title="">Creating Images with Draw - Part 3</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">架构</a>
                        <ul expand="false">
                            <li class="file"><a href="application_architecture.html" title="应用程序架构介绍">应用程序架构介绍</a></li>
                            <li class="file"><a href="developing_for_multiple_screens_and_environments.html" title="应用程序架构介绍">多屏幕开发</a></li>
                            <li class="file"><a href="view_controllers.html" title="视图控制器View Controllers">视图控制器View Controllers</a></li>
                            <li class="file"><a href="view_models_data_binding.html" title="View Models &amp; 数据绑定">View Models &amp; 数据绑定</a></li>
                            <li class="file"><a href="view_model_internals.html" title="View Models Internals">View Model 内部机制</a></li>
                            <li class="file"><a href="router.html" title="使用路由">使用路由</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">UI 组件</a>
                        <ul expand="false">
                            <li class="file"><a href="../components/forms.html" title="Forms">Forms</a></li>
                            <li class="file"><a href="../components/introduction_to_charting.html" title="图表Charts介绍">图表Charts介绍</a></li>
                            <li class="file"><a href="../components/trees.html" title="Trees">Trees</a></li>
                            <li class="file"><a href="../components/grids.html" title="Grids">Grids</a></li>
                            <li class="file"><a href="../components/pivot_grid.html" title="Pivot Grid">Pivot Grid</a><span class="tpl-toc-img-new">★</span></li>
                            <li class="file"><a href="../components/widgets_widgets_columns.html" title="Widgets and Widget Columns">Widgets and Widget Columns</a></li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">后台连接</a>
                        <ul expand="false">
                            <li class="file"><a href="../backend_connectors/soap.html" title="SOAP服务">SOAP服务</a></li>
                            <li class="file"><a href="../backend_connectors/amf.html" title="AMF 数据源">AMF 数据源</a></li>
                            <li class="folder">
                                <a href="#">Ext Direct</a>
                                <ul expand="false">
                                    <li class="file"><a href="../backend_connectors/direct/specification.html" title="Ext Direct 说明">Ext Direct 说明</a><span class="tpl-toc-img-new">★</span></li>
                                    <li class="file"><a href="../backend_connectors/direct/mysql_php.html" title="Ext Direct 结合 MySQL 和 PHP">Ext Direct 结合 MySQL 和 PHP</a><span class="tpl-toc-img-new">★</span></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="folder">
                        <a href="#">其它</a>
                        <ul expand="false">
                            <li class="file"><a href="../other_resources/oop_concepts.html" title="">OOP基础</a><span class="tpl-toc-img-new">★</span></li>
                            <li class="file"><a href="../other_resources/ecosystem.html" title="">Ext JS 生态</a></li>
                            <li class="file"><a href="../other_resources/sencha_blog.html" title="">来自 Sencha 博客</a></li>
                        </ul>
                    </li>
                    <li class="file"><a href="../supported_browsers.html" title="支持的浏览器">支持的浏览器</a></li>
                </ul>
            </div>
        </div>
        <div id="middle">
            <div id="tpl-content">
                <div>
                    <div class="toc-page" style="display:block;">
                        Contents
                        <a class="toc-page-h2" href="#Application_level_Controllers" title="Application-level Controllers">Application-level Controllers</a>
                        <a class="toc-page-h3" href="#Challenges" title="Challenges">Challenges</a>
                        <a class="toc-page-h2" href="#ViewControllers" title="ViewControllers">ViewControllers</a>
                        <a class="toc-page-h3" href="#Listeners" title="Listeners">Listeners</a>
                        <a class="toc-page-h3" href="#Reference" title="Reference">Reference</a>
                        <a class="toc-page-h3" href="#Encapsulation" title="Encapsulation">Encapsulation</a>
                        <a class="toc-page-h3" href="#Listeners_and_Event_Domains" title="Listeners and Event Domains">Listeners and Event Domains</a>
                        <a class="toc-page-h3" href="#Life_cycle" title="Life cycle">Life cycle</a>
                        <a class="toc-page-h2" href="#Conclusion" title="Conclusion">Conclusion</a>
                    </div>
                    <div id="tpl-content-name" itemprop="name">
                        <!--部分参考http://www.cnblogs.com/hyfeng/articles/4904131.html-->
                        <h1>Ext JS 中的视图控制器（ViewControllers）</h1>
                    </div>
                    <div id="tpl-content-articleBody" itemprop="articleBody">
                        <p>Ext JS 提供了一些令人兴奋的改进，您可以在您的应用程序中使用它们。我们增加了的ViewModels（视图模型）和ViewControllers（视图控制器），将原有的架构从MVC升级到了MVVM。最重要的是，这些功能不会相互影响，所以您可以逐步引入它们，直到它们融为一体。</p>
                        <h2 id="Application_level_Controllers">应用级控制器</h2>
                        <p>一个控制器派生于<a href="../6.0.1-classic/#!/api/Ext.app.Controller" data-full-load="true">Ext.app.Controller</a>。这些控制器使用CSS类选择器（“组件查询”）来匹配组件和它们的事件。 他们还利用“refs”来选择和检索组件实例。</p>
                        <p>这些控制器在应用程序启动时就创建并且一直存在，直到应用程序关闭。在其生命周期中，控制器可以监听一个或者多个视图的事件，并且管理它们。</p>
                        <h3 id="Challenges">不足之处</h3>
                        <p>对于大型应用程序，这些技术有一定的不足之处。</p>
                        <p>在开发时，视图和控制器可以由多个开发人员撰写，并集成到最终的应用程序中。很难保证控制器能达到开发者的预期效果。另外，开发者通常希望限制在应用程序中控制器的数量。然而一些控制器即使不再被使用，也不能销毁它们。</p>
                        <h2 id="ViewControllers">视图控制器（ViewControllers）</h2>
                        <p>Ext JS 5+在能够向后兼容传统应用级控制器的同时，它引入了新的控制器来应对这些不足之处：<a href="../6.0.1-classic/#!/api/Ext.app.ViewController" data-full-load="true">Ext.app.ViewController</a>。 视图控制器做到了以下几点：</p>
                        <ul>
                            <li>在视图中使用了“listeners”和“reference”简化了配置。</li>
                            <li>充分利用视图的生命周期来自动管理其相关的视图控制器。</li>
                            <li>视图控制器与视图的一对一的关系降低了应用的复杂性。</li>
                            <li>视图控制器提供的封装使嵌套视图更加可靠。</li>
                            <li>保留选择组件，并具有在相关的视图下任何级别监听它们的事件的能力。</li>
                        </ul>
                        <h3 id="Listeners">监听器（listeners）</h3>
                        <p>那么如何使用视图控制器呢，我们可以看看下面两个例子。第一个是在视图的子项中使用监听器监听事件的基本用法：</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.foo.Foo', {
    extend: 'Ext.panel.Panel',
    xtype: 'foo',
    controller: 'foo',
    items: [{
        xtype: 'textfield',
        fieldLabel: 'Bar',
        listeners: {
            change: 'onBarChange'  // 这里没有指定作用域
        }
    }]
});
Ext.define('MyApp.view.foo.FooController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.foo',
    onBarChange: function (barTextField) {
        //  通过 'change' 事件触发
    }
});</code></pre>
                        <p>上面的例子展示了如何监听事件来触发指定方法(<code>onBarChange</code>)，并且不用指定其scope（作用域）。因为视图控制器的内部事件系统已经指定了scope。</p>
                        <p>在之前的版本中，监听器配置被保留，以供组件的创建者使用，那么如何监听一个视图的事件，或者销毁其父类？答案是，我们需要指定一个scope：</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.foo.Foo', {
    extend: 'Ext.panel.Panel',
    xtype: 'foo',
    controller: 'foo',
    listeners: {
        collapse: 'onCollapse',
        scope: 'controller' // 这里指定了作用域
    },
    items: [{
        ...
    }]
});</code></pre>
                        <p>上面的例子充分利用了Ext JS的两个新功能：作用域（scope）和监听器。 在这里我们重点关注作用域配置,作用域的值可以设置为： “this” 和 “controller”。 在编写MVC架构的应用程序时，我们总是使用“controller”来监听视图中的事件<!--（不是视图创建的默认控制器）-->。</p>
                        <p>由于视图属于 <a href="../6.0.1-classic/#!/api/Ext.Component" data-full-load="true">Ext.Component</a>类型，在其他视图中我们通过“xtype”创建了一个实例来使用这个视图，同时我们用同样的方式在这个视图中创建了一个文本框。 我们是如何使用的呢，看下面的例子：</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.bar.Bar', {
    extend: 'Ext.panel.Panel',
    xtype: 'bar',
    controller: 'bar',
    items: [{
        xtype: 'foo',
        listeners: {
            collapse: 'onCollapse'
        }
    }]
});</code></pre>
                        <p>在这种情况下，bar视图创建一个实例Foo作为其子视图，再进一步，它监听折叠事件就像Foo视图一样。当这个事件在bar视图的视图控制器触发时这个事件也会在Foo视图的视图控制器里触发。</p>
                        <h3 id="Reference">Reference</h3>
                        <p>ViewControllers最常见的用法是监听组件执行的特定的操作，例如：</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.foo.Foo', {
    extend: 'Ext.panel.Panel',
    xtype: 'foo',
    controller: 'foo',
    tbar: [{
        xtype: 'button',
        text: 'Add',
        handler: 'onAdd'
    }],
    items: [{
        xtype: 'grid',
        ...
    }]
});
Ext.define('MyApp.view.foo.FooController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.foo',
    onAdd: function () {
        // ... 获取表格组件并且添加一条数据 ...
    }
});</code></pre>
                        <p>但是应该如何获得表格组件？所有的技术都需要您把一些可识别的唯一标识属性配置在表格中。旧技术用“id”配置（<a href="../6.0.1-classic/#!/api/Ext.getCmp" data-full-load="true">Ext.getCmp</a>获取）或者“itemId”配置（用“refs” 或者其他组件检索方法）。“id”的优势是首先查找，但由于这些标识符在整个应用程序和DOM中都必须是唯一的，这通常是不可取的。使用“itemId”和某种形式的查询更加灵活,但有必要执行搜索才能找到所需的组件。</p>
                        <p>用<code>reference</code>配置，添加“reference”配置到表格并用<code>lookupReference</code>方法获取表格组件：</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.foo.Foo', {
    extend: 'Ext.panel.Panel',
    xtype: 'foo',
    controller: 'foo',
    tbar: [{
        xtype: 'button',
        text: 'Add',
        handler: 'onAdd'
    }],
    items: [{
        xtype: 'grid',
        reference: 'fooGrid'
        ...
    }]
});
Ext.define('MyApp.view.foo.FooController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.foo',
    onAdd: function () {
        var grid = this.lookupReference('fooGrid');
    }
});</code></pre>
                        <p>这类似于使用itemId“fooGrid”时做的事情：“this.down(‘#fooGrid’)”，但是，它们使用的查找引擎是有区别的，首先，reference配置指示组件注册本身拥有的视图(视图控制器存在这种情况下)。第二，<code>lookupReference</code>方法简单的查询缓存，以确定是否需要刷新(比如添加或删除一个容器)。如果一切正常,只是从缓存中返回引用。如同在伪代码中：</p>
                        <pre mode="javascript" theme="chrome"><code>lookupReference: (reference) {
    var cache = this.references;
    if (!cache) {
        Ext.fixReferences(); // 修复引用
        cache = this.references; // 缓存引用
    }
    return cache[reference];
}</code></pre>
                        <p>换句话说，只要不删除或者添加条目，容器是固定的，没必要去搜索。下面我们将看到这种方法的效率之处。</p>
                        <h3 id="Encapsulation">封装</h3>
                        <p>在控制器使用<code>refs</code>配置选择器非常灵活，但同时有一定风险。这些选择器能够监听所有层次结构中的组件，这是是强大的也是容易出错的。例如，当控制器隔离工作时100%可用，但当被其他视图引用时会失败，因为它的选择器与新视图不匹配。</p>
                        <p>这些问题可以通过以下办法来解决，在视图中使用监听器和references然后通过视图控制器监听，这些问题就不会出现了。因为监听器和references仅连接到自己的视图控制器。视图可以自由设置reference的名称，在这个视图范围内它是独一无二的，这些名称不会暴露视图的创造者。</p>
                        <p>同样，监听器在它们对应的视图控制器中处理，不会被其它的控制器影响。监听器是更可靠的选择器，这两种机制在这些情况下的能够很好地协作，是理想的基本选择器方法。</p>
                        <p>要触发这个模型、视图需要触发的事件，可以用它们对应视图所属的视图控制器的一个辅助方法：<code>fireViewEvent</code>。例如：</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.foo.FooController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.foo',
    onAdd: function () {
        var record = new MyApp.model.Thing();
        var grid = this.lookupReference('fooGrid');
        grid.store.add(record);
        this.fireViewEvent('addrecord', this, record);
    }
});</code></pre>
                        <p>视图中使用监听器的标准作法：</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.bar.Bar', {
    extend: 'Ext.panel.Panel',
    xtype: 'bar',
    controller: 'bar',
    items: [{
        xtype: 'foo',
        listeners: {
            collapse: 'onCollapse',
            addrecord: 'onAddRecord'
        }
    }]
});</code></pre>
                        <h3 id="Listeners_and_Event_Domains">监听器（Listeners）和事件域</h3>
                        <p>在 Ext JS 4.2 中, MVC事件调度器是广义的活动领域，这些事件域通过它们的控制器控制选择器匹配监听事件触发，“component”事件域有完整的组件查询选择器，在其他域有更多的选择器。</p>
                        <p>在Ext JS 5+，每个视图控制器从一个叫“view”事件域创建新的实例，这些事件域允许视图控制器使用标准的<code>listen</code>和<code>control</code>方法，同时限制它们的视图隐式范围。它还增加了一个特殊选择器,以匹配视图本身:</p>
                        <pre mode="javascript" theme="chrome"><code>Ext.define('MyApp.view.foo.FooController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.foo',
    control: {
        '#': {  // 匹配视图本身
            collapse: 'onCollapse'
        },
        button: {
            click: 'onAnyButtonClick'
        }
    }
});</code></pre>
                        <p> 监听器和选择器之间的关键差异请看上面的代码，“button”选择器将匹配这个视图的和子视图的所有按钮，不管深度，即使那个按钮属于一个曾孙视图。换句话说，基本选择器处理程序不管封装边界。这些行为和以前的<a href="../6.0.1-classic/#!/api/Ext.app.Controller" data-full-load="true">Ext.app.Controller</a> 行为一致，在有限的情况下是一个有用的技术。</p>
                        <p>最后，这些事件域在视图层结构遵循嵌套并且向上有效“bubble”，就是说，当一个事件被触发，它首先提交到标准事件事临听器，然后，提交到自己的视图控制器，再向上通过层次结构提交到父视图控制器（如果有）。最终，事件提交到标准“component”事件域被Ext.app.Controller处理。</p>
                        <h3 id="Life_cycle">生命周期</h3>
                        <p>对于大型应用程序动态创建控制器是一种常见技术，这将有助于减少应用程序的加载时间和运行时不激活所有控制器以提高性能。Ext JS在之前的版本是有做不到的，一旦创建，这些控制器将活跃在整个应用程序的生命周期。不能摧毁他们释放资源。同样，一个控制器可以管理任意数量的相关视图(包括没有)。</p>
                        <p>然而，视图控制器在视图创建的早期就绑定到组件整个生命周期，视图销毁，视图控制器同样销毁。这意味着视图控制器不再管理许多视图或者不存在视图。</p>
                        <p>这种一对一的关系意味着reference是简化的，摧毁组件不再容易泄漏内存。视图控制器可以在其生命周期帮助您实现这些方法：</p>
                        <ul>
                            <li>beforeInit - 为了操作视图可以覆盖这个方法，它在initComponent方法被调用之前调用，在控制器创建后立即调用，在initConfig方法调用组件构造函数后触发。</li>
                            <li>init - 视图的initComponent方法调用不久后调用，这是执行控制器初始化、视图初始化的典型时间。</li>
                            <li>initViewModel - 当视图的视图模型创建时调用（如果有）。</li>
                            <li>destroy - 清理和回收资源（必须调用<code>callParent</code>方法）</li>
                        </ul>
                        <h2 id="Conclusion">结论</h2>
                        <p>我们认为视图控制器能极大地简化MVC程序，它们结合视图模型能够做的更好，您可以在开发中利用这些方法的优点来进行开发。我们很高兴能在您即将发布的应用程序，看到这些改进。</p>
                    </div>
                    <div class="tpl-content-lastUpdated">
                        最近更新时间 
                        <div id="tpl-content-lastUpdated-date" itemprop="datePublished" datetime="2016-04-01T12:27Z">
                            2016年4月6日
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="footer">
        <div id="footer-social">
            <div class="g-plusone" data-size="medium" data-annotation="none"></div>
        </div>
        <div id="footer-content">
            <a href="../../../../www.sencha.com/products">Products</a> |
            <a href="../../../../www.sencha.com/services">Services</a> |
            <a href="../../../../www.sencha.com/support">Support</a> |
            <a href="../../../../www.sencha.com/training">Training</a> |
            <a href="../../../../www.sencha.com/partners">Partners</a> |
            <a href="../../../../www.sencha.com/blog">Community</a> |
            <a href="../../../../www.sencha.com/company">Company</a>
        </div>
    </div>
    <div id="menu-product-container" style="display:none;">
        <div id="menu-dropdown">
            <div class="menu-landing-products">
                <div id="menu-vertical">
                    <p class="menu-landing-product" rel="extjs"> <a> Sencha Ext JS </a> </p>
                    <p class="menu-landing-product" rel="cmd"> <a> Sencha Cmd </a> </p>
                    <p class="menu-landing-product" rel="sencha_test"> <a> Sencha Test </a> </p>
                    <p class="menu-landing-product" rel="ide_plugins"> <a> Sencha IDE Plugins </a> </p>
                    <p class="menu-landing-product" rel="sencha_inspector"> <a> Sencha Inspector </a> </p>
                    <p class="menu-landing-product" rel="gxt"> <a> Sencha GXT </a> </p>
                    <p class="menu-landing-product" rel="webappmgr"> <a> Sencha Web Application Manager </a> </p>
                    <p class="menu-landing-product" rel="architect"> <a> Sencha Architect </a> </p>
                    <p class="menu-landing-product" rel="touch"> <a> Sencha Touch </a> </p>
                </div>
            </div>
            <div id="menu-product-details">
                <div id="extjs-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha Ext JS
                    </div>
                    <div class="menu-landing-doc-heading">
                        6.x
                    </div>
                    <a href="../default.htm"> 6.0.2 </a>
                    <a class="menu-landing-zip" style="padding-right:0;" href="../../../downloads/extjs-docs-6.0.2-classic.zip"> (classic) </a>
                    <a class="menu-landing-zip menu-landing-lesspad" href="../../../downloads/extjs-docs-6.0.2-modern.zip"> (modern) </a>
                    <span class="tpl-toc-img-new">★</span>
                    <br />
                    <a href="../default.htm"> 6.0.1 </a>
                    <a class="menu-landing-zip" style="padding-right:0;" href="../../../downloads/extjs-docs-6.0.1-classic.zip"> (classic) </a>
                    <a class="menu-landing-zip menu-landing-lesspad" href="../../../downloads/extjs-docs-6.0.1-modern.zip"> (modern) </a>
                    <span class="tpl-toc-img-new">★</span>
                    <br />
                    <a href="../default.htm"> 6.0.0 </a>
                    <a class="menu-landing-zip" style="padding-right:0;" href="../../../downloads/extjs-docs-6.0.0-classic.zip"> (classic) </a>
                    <a class="menu-landing-zip" style="padding-left:0;" href="../../../downloads/extjs-docs-6.0.0-modern.zip"> (modern) </a>
                    <div class="menu-landing-doc-heading">
                        5.1.x
                    </div>
                    <a href="../../5.1/default.htm"> 5.1.2 </a>
                    <a class="menu-landing-zip" href="../../../downloads/extjs-docs-5.1.2.zip"> (offline docs) </a>
                    <br />
                    <a href="../../5.1/default.htm"> 5.1.1 </a>
                    <a class="menu-landing-zip" href="../../../downloads/extjs-docs-5.1.1.zip"> (offline docs) </a>
                    <br />
                    <a href="../../5.1/default.htm"> 5.1.0 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/ext-docs-5.1.0.zip"> (offline docs) </a>
                    <br />
                    <div class="menu-landing-doc-heading">
                        5.0.x
                    </div>
                    <a href="../../5.0/default.htm"> 5.0.1 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/ext-docs-5.0.zip"> (offline docs) </a>
                    <br />
                    <a href="../../5.0/default.htm"> 5.0.0 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/ext-docs-5.0.0.zip"> (offline docs) </a>
                    <br />
                    <div class="menu-landing-doc-heading">
                        4.2.x
                    </div>
                    <a href="../../4.2.5/default.htm"> 4.2.5 </a>
                    <a class="menu-landing-zip" href="../../../downloads/extjs-docs-4.2.5.zip"> (offline docs) </a>
                    <br />
                    <a href="../../4.2.4/default.htm"> 4.2.4 </a>
                    <a class="menu-landing-zip" href="../../../downloads/extjs-docs-4.2.4.zip"> (offline docs) </a>
                    <br />
                    <a href="../../4.2.3/default.htm"> 4.2.3 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/extjs-docs-4.2.3.zip"> (offline docs) </a>
                    <br />
                    <a href="../../4.2.2/default.htm"> 4.2.2 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/extjs-docs-4.2.2.zip"> (offline docs) </a>
                    <br />
                    <a href="../../4.2.1/default.htm"> 4.2.1 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/extjs-docs-4.2.1.zip"> (offline docs) </a>
                    <br />
                    <a href="../../4.2.0/default.htm"> 4.2.0 </a>
                    <br />
                    <div class="menu-landing-doc-heading">
                        4.1.x
                    </div>
                    <a href="../../4.1.3/default.htm"> 4.1.3 </a>
                    <br />
                    <a href="../../4.1.2/default.htm"> 4.1.2 </a>
                    <br />
                    <a href="../../4.1.1/default.htm"> 4.1.1 </a>
                    <br />
                    <a href="../../4.1.0/default.htm"> 4.1.0 </a>
                    <br />
                    <div class="menu-landing-doc-heading">
                        4.0.x
                    </div>
                    <a href="../../4.0.7/default.htm"> 4.0.7 </a>
                    <br />
                    <a href="../../4.0.0/default.htm"> 4.0.0 </a>
                </div>
                <div id="cmd-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha Cmd
                    </div>
                    <div class="menu-landing-doc-heading">
                        6.x
                    </div>
                    <a href="../../../cmd/6.x"> 6.x </a>
                    <span class="tpl-toc-img-new">★</span>
                    <br />
                    <div class="menu-landing-doc-heading">
                        5.x
                    </div>
                    <a href="../../../cmd/5.x"> 5.x </a>
                </div>
                <div id="sencha_test-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha Test
                    </div>
                    <a href="../../../sencha_test/index.html"> Sencha Test </a>
                    <span class="tpl-toc-img-new">★</span>
                </div>
                <div id="ide_plugins-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha IDE Plugins
                    </div>
                    <a href="../../../ide_plugins/jetbrains_ide_plugin.html"> JetBrains Plugin 6.x </a>
                    <span class="tpl-toc-img-new">★</span>
                    <br />
                    <a href="../../../ide_plugins/eclipse_ide_plugin.html"> Eclipse Plugin </a>
                    <span class="tpl-toc-img-new">★</span>
                    <br />
                    <a href="../../../ide_plugins/visual_studio_ide_plugin.html"> Visual Studio Plugin </a>
                    <span class="tpl-toc-img-new">★</span>
                </div>
                <div id="sencha_inspector-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha Inspector
                    </div>
                    <a href="../../../sencha_inspector/index.html"> Sencha Inspector 6.x </a>
                    <span class="tpl-toc-img-new">★</span>
                </div>
                <div id="gxt-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha GXT
                    </div>
                    <!-- GXT 4.0 -->
                    <div class="menu-landing-doc-heading">
                        4.0
                        <span class="tpl-toc-img-new">★</span>
                    </div>
                    <a href="../../../../examples.sencha.com/gxt/4.0.1"> 4.0 Explorer Examples </a>
                    <br />
                    <a href="../../../../examples.sencha.com/gxt-edash/4.0.1"> 4.0 Dashboard Example </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/gxt/examples-src/gxt-edash-4.0.1.zip"> (War) </a>
                    <br />
                    <a href="../../../gxt/4.x/default.htm"> 4.0 Guides </a>
                    <br />
                    <a href="../../../gxt/4.x/javadoc/gxt-4.0.0"> 4.0 Javadoc </a>
                    <br />
                    <!-- GXT 3.1.x -->
                    <div class="menu-landing-doc-heading">
                        3.1
                    </div>
                    <a href="../../../../www.sencha.com/examples/default.htm"> 3.1.4 Examples </a>
                    <br />
                    <a href="../../../gxt/3.x/default.htm"> 3.1.4 Guides </a>
                    <br />
                    <a href="../../../gxt/3.x/javadoc"> 3.1.4 Javadoc </a>
                    <br />
                    <!-- GXT 3.0.x -->
                    <!-- GXT 2.x -->
                    <div class="menu-landing-doc-heading">
                        2.0
                    </div>
                    <a href="../../../../https@www.sencha.com/examples-2/default.htm"> 2.3.1 Examples </a>
                </div>
                <div id="webappmgr-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha Web Application Manager
                    </div>
                    <div class="menu-landing-doc-heading">
                        6.0.x
                    </div>
                    <a href="../../../webappmgr"> 6.0.0 </a>
                    <span class="tpl-toc-img-new">★</span>
                </div>
                <div id="architect-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha Architect
                    </div>
                    <div class="menu-landing-doc-heading">
                        3.x
                    </div>
                    <a href="../../../architect/3.5/default.htm"> 3.5 </a>
                    <span class="tpl-toc-img-new">★</span>
                    <br />
                    <a href="../../../architect/3/default.htm"> 3.2 </a>
                    <a class="menu-landing-zip menu-landing-lesspad" href="../../../../cdn.sencha.com/downloads/docs/architect-docs-3.zip"> (offline docs) </a>
                </div>
                <div id="touch-menu-product" class="menu-specific-product">
                    <div class="menu-landing-doc-heading">
                        Sencha Touch
                    </div>
                    <div class="menu-landing-doc-heading">
                        2.4.x
                    </div>
                    <a href="../../../touch/2.4/default.htm"> 2.4.2 </a>
                    <span class="tpl-toc-img-new">★</span>
                    <a class="menu-landing-zip menu-landing-lesspad" href="../../../downloads/touch-docs-2.4.2.zip"> (offline docs) </a>
                    <br />
                    <a href="../../../touch/2.4/default.htm"> 2.4.1 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/touch-docs-2.4.1.zip"> (offline docs) </a>
                    <br />
                    <a href="../../../touch/2.4/2.4.0-apidocs"> 2.4.0 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/touch-docs-2.4.0.zip"> (offline docs) </a>
                    <div class="menu-landing-doc-heading">
                        2.3.x
                    </div>
                    <a href="../../../touch/2.3.1/default.htm"> 2.3.1 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/touch-docs-2.3.1.zip"> (offline docs) </a>
                    <br />
                    <a href="../../../touch/2.3.0/default.htm"> 2.3.0 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/touch-docs-2.3.0.zip"> (offline docs) </a>
                    <br />
                    <div class="menu-landing-doc-heading">
                        2.2.x
                    </div>
                    <a href="../../../touch/2.2.1/default.htm"> 2.2.1 </a>
                    <a class="menu-landing-zip" href="../../../../cdn.sencha.com/downloads/docs/touch-docs-2.2.1.zip"> (offline docs) </a>
                    <br />
                    <a href="../../../touch/2.2.0/default.htm"> 2.2.0 </a>
                    <br />
                    <div class="menu-landing-doc-heading">
                        2.1.x
                    </div>
                    <a href="../../../touch/2.1.1/default.htm"> 2.1.1 </a>
                    <br />
                    <a href="../../../touch/2.1.0/default.htm"> 2.1.0 </a>
                    <br />
                    <div class="menu-landing-doc-heading">
                        2.0.x
                    </div>
                    <a href="../../../touch/2.0.2/default.htm"> 2.0.2 </a>
                    <br />
                    <a href="../../../touch/2.0.1/default.htm"> 2.0.1 </a>
                    <br />
                    <a href="../../../touch/2.0.0/default.htm"> 2.0.0 </a>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        adroll_adv_id = "5RM2BL5IGRFLRG5VDQ7OIE";
        adroll_pix_id = "LWO7UZXBFVESTOMYFI2LYS";
        /* OPTIONAL: provide email to improve user identification */
        /* adroll_email = "username_40example.com"; */
        (function () {
            var _onload = function () {
                if (document.readyState && !/loaded|complete/.test(document.readyState)) { setTimeout(_onload, 10); return }
                if (!window.__adroll_loaded) { __adroll_loaded = true; setTimeout(_onload, 50); return }
                var scr = document.createElement("script");
                var host = (("https:" == document.location.protocol) ? "../../../../https@s.adroll.com" : "../../../../a.adroll.com");
                scr.setAttribute('async', 'true');
                scr.type = "text/javascript";
                scr.src = host + "/j/roundtrip.js";
                ((document.getElementsByTagName('head') || [null])[0] ||
                document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
            };
            if (window.addEventListener) { window.addEventListener('load', _onload, false); }
            else { window.attachEvent('onload', _onload) }
        }());
    </script>
    <script>
        var menu = document.getElementById("tpl-toc"),
            link_obj = document.getElementById("mobile_menu_link"),
            links = menu.querySelectorAll('a');

        for (i = 0; i < links.length; i++) {
            links[i].onclick = function () {
                var mq = window.matchMedia('only screen and (max-width: 768px)');

                if (mq.matches) {
                    menu.style.display = 'none';
                    link_obj.innerHTML = 'MENU';
                }
            }
        }

    </script>
    <script type="text/javascript">
    </script>
    <script src='../../../../munchkin.marketo.net/munchkin-beta.js' type='text/javascript'></script>
    <script>Munchkin.init('374-WES-121');</script>

</body>
</html>